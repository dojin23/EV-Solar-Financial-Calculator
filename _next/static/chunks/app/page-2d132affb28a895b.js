(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5448:function(e,a,s){Promise.resolve().then(s.bind(s,5198))},5198:function(e,a,s){"use strict";s.d(a,{default:function(){return es}});var t=s(7437),l=s(2265),r=s(4839),n=s(6164);function i(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return(0,n.m6)((0,r.W)(a))}let o=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("div",{ref:a,className:i("rounded-lg bg-card text-card-foreground shadow-sm",s),...l})});o.displayName="Card";let c=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("div",{ref:a,className:i("flex flex-col space-y-1.5 p-6",s),...l})});c.displayName="CardHeader";let d=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("h3",{ref:a,className:i("text-2xl font-semibold leading-none tracking-tight",s),...l})});d.displayName="CardTitle",l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("p",{ref:a,className:i("text-sm text-muted-foreground",s),...l})}).displayName="CardDescription";let m=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("div",{ref:a,className:i("p-6",s),...l})});m.displayName="CardContent",l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("div",{ref:a,className:i("flex items-center p-6 pt-0",s),...l})}).displayName="CardFooter";let x=l.forwardRef((e,a)=>{let{className:s,type:l,onChange:r,...n}=e;return(0,t.jsx)("input",{type:l,className:i("flex h-10 w-full rounded-md bg-gray-100 px-4 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:a,onChange:e=>{let a=e.target.value;"number"===l&&a.length>1&&""===(a=a.replace(/^0+/,""))&&(a="0"),e.target.value=a,r&&r(e)},...n})});x.displayName="Input";var h=s(8364);let u=(0,s(2218).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),p=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(h.f,{ref:a,className:i(u(),s),...l})});p.displayName=h.f.displayName;var f=s(7913);let g=f.zt,j=f.fC,y=f.xz,N=l.forwardRef((e,a)=>{let{className:s,sideOffset:l=4,...r}=e;return(0,t.jsx)(f.VY,{ref:a,sideOffset:l,className:i("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...r})});N.displayName=f.VY.displayName;var v=s(9897),b=s(2421),w=s(4392),C=s(2468);let S=v.fC;v.ZA;let R=v.B4,P=l.forwardRef((e,a)=>{let{className:s,children:l,...r}=e;return(0,t.jsxs)(v.xz,{ref:a,className:i("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...r,children:[l,(0,t.jsx)(v.JO,{asChild:!0,children:(0,t.jsx)(b.Z,{className:"h-4 w-4 opacity-50"})})]})});P.displayName=v.xz.displayName;let T=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(v.u_,{ref:a,className:i("flex cursor-default items-center justify-center py-1",s),...l,children:(0,t.jsx)(w.Z,{className:"h-4 w-4"})})});T.displayName=v.u_.displayName;let F=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(v.$G,{ref:a,className:i("flex cursor-default items-center justify-center py-1",s),...l,children:(0,t.jsx)(b.Z,{className:"h-4 w-4"})})});F.displayName=v.$G.displayName;let E=l.forwardRef((e,a)=>{let{className:s,children:l,position:r="popper",...n}=e;return(0,t.jsx)(v.h_,{children:(0,t.jsxs)(v.VY,{ref:a,className:i("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:r,...n,children:[(0,t.jsx)(T,{}),(0,t.jsx)(v.l_,{className:i("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,t.jsx)(F,{})]})})});E.displayName=v.VY.displayName,l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(v.__,{ref:a,className:i("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...l})}).displayName=v.__.displayName;let A=l.forwardRef((e,a)=>{let{className:s,children:l,...r}=e;return(0,t.jsxs)(v.ck,{ref:a,className:i("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...r,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(v.wU,{children:(0,t.jsx)(C.Z,{className:"h-4 w-4"})})}),(0,t.jsx)(v.eT,{children:l})]})});A.displayName=v.ck.displayName,l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(v.Z0,{ref:a,className:i("-mx-1 my-1 h-px bg-muted",s),...l})}).displayName=v.Z0.displayName,s(5231),s(8148),s(4142),s(2842),s(9542),s(5475),s(153),s(6638);var k=s(9687),D=s(1077),I=s(8296),V=s(5430),Z=s(3225),z=s(933),W=s(8592),M=s(6997),_=s(8281);let Y=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("table",{ref:a,className:s,...l})});Y.displayName="Table";let $=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("thead",{ref:a,className:s,...l})});$.displayName="TableHeader";let O=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("tbody",{ref:a,className:s,...l})});O.displayName="TableBody";let U=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("tr",{ref:a,className:s,...l})});U.displayName="TableRow";let B=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("th",{ref:a,className:s,...l})});B.displayName="TableHead";let K=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("td",{ref:a,className:s,...l})});K.displayName="TableCell";let L=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),G=e=>isNaN(e)?"N/A":new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}).format(e);function H(e){let{cashFlows:a,initialInvestment:s}=e,l=a.reduce((e,a)=>e+a.cashFlow,0),r=l/a.length;return(0,t.jsxs)(o,{className:"shadow-lg",children:[(0,t.jsx)(c,{className:"bg-gray-100",children:(0,t.jsx)(d,{className:"text-xl font-bold",children:"Cash Flow Details"})}),(0,t.jsxs)(m,{className:"p-4",children:[(0,t.jsxs)("div",{className:"mb-4 grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Initial Investment:"})," ",L(s)]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Project Lifespan:"})," ",a.length," years"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Total Cash Flow:"})," ",L(l)]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Average Annual Cash Flow:"})," ",L(r)]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Return on Investment:"})," ",G(0!==s?l/s:0)]})]})]}),(0,t.jsx)("div",{className:"overflow-x-auto mt-4 border rounded-lg",children:(0,t.jsxs)(Y,{className:"w-full",children:[(0,t.jsx)($,{children:(0,t.jsxs)(U,{children:[(0,t.jsx)(B,{className:"text-left px-2 py-3",children:"Year"}),(0,t.jsx)(B,{className:"text-right px-2 py-3",children:"EV Revenue"}),(0,t.jsx)(B,{className:"text-right px-2 py-3",children:"Solar Savings"}),(0,t.jsx)(B,{className:"text-right px-2 py-3",children:"SREC Revenue"}),(0,t.jsx)(B,{className:"text-right px-2 py-3",children:"Grid Cost"}),(0,t.jsx)(B,{className:"text-right px-2 py-3",children:"Maintenance"}),(0,t.jsx)(B,{className:"text-right px-2 py-3",children:"Profit"}),(0,t.jsx)(B,{className:"text-right px-2 py-3",children:"Taxes"}),(0,t.jsx)(B,{className:"text-right px-2 py-3",children:"Cash Flow"}),(0,t.jsx)(B,{className:"text-right px-2 py-3",children:"Cumulative CF"}),(0,t.jsx)(B,{className:"text-right px-2 py-3",children:"ROI"})]})}),(0,t.jsx)(O,{children:a.map((e,l)=>{let r=a.slice(0,l+1).reduce((e,a)=>e+a.cashFlow,0)-s;return(0,t.jsxs)(U,{className:l%2==0?"bg-gray-50":"",children:[(0,t.jsx)(K,{className:"text-left px-2 py-2",children:e.year}),(0,t.jsx)(K,{className:"text-right px-2 py-2",children:L(e.evRevenue)}),(0,t.jsx)(K,{className:"text-right px-2 py-2",children:L(e.solarSavings)}),(0,t.jsx)(K,{className:"text-right px-2 py-2",children:L(e.srecRevenue)}),(0,t.jsx)(K,{className:"text-right px-2 py-2",children:L(e.gridCost)}),(0,t.jsx)(K,{className:"text-right px-2 py-2",children:L(e.maintenanceCost)}),(0,t.jsx)(K,{className:"text-right px-2 py-2",children:L(e.profit)}),(0,t.jsx)(K,{className:"text-right px-2 py-2",children:L(e.taxes)}),(0,t.jsx)(K,{className:"text-right px-2 py-2 font-semibold",children:L(e.cashFlow)}),(0,t.jsx)(K,{className:"text-right px-2 py-2",children:L(r)}),(0,t.jsx)(K,{className:"text-right px-2 py-2",children:G(0!==s?(r+s)/s-1:0)})]},e.year)})})]})}),(0,t.jsxs)("div",{className:"mt-4 text-sm",children:[(0,t.jsx)("p",{children:(0,t.jsx)("strong",{children:"Notes:"})}),(0,t.jsxs)("ul",{className:"list-disc list-inside",children:[(0,t.jsx)("li",{children:"All monetary values are in present value terms."}),(0,t.jsx)("li",{children:"Taxes are calculated at an assumed corporate tax rate of 21%."}),(0,t.jsx)("li",{children:"ROI is calculated as (Cumulative Cash Flow - Initial Investment) / Initial Investment."}),(0,t.jsx)("li",{children:"SREC Revenue may vary based on market conditions and regulatory changes."})]})]})]})]})}function q(e){let{title:a,value:s,icon:l,tooltip:r}=e;return(0,t.jsx)(g,{children:(0,t.jsxs)(j,{children:[(0,t.jsx)(y,{asChild:!0,children:(0,t.jsxs)(o,{className:"bg-white shadow-sm",children:[(0,t.jsxs)(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(d,{className:"text-sm font-medium",children:a}),l]}),(0,t.jsx)(m,{children:(0,t.jsx)("div",{className:"text-2xl font-bold",children:s})})]})}),r&&(0,t.jsx)(N,{className:"max-w-xs",children:(0,t.jsx)("p",{children:r})})]})})}let J=e=>null===e?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e),Q=(e,a,s)=>e.reduce((e,s,t)=>e+s/Math.pow(1+a,t+1),-s),X=e=>{let a=.1,s=100;for(;s>0;){let t=Q(e,a,0);if(1e-6>Math.abs(t))return a;let l=e.reduce((e,s,t)=>e-t*s/Math.pow(1+a,t+1),0);if(0===l)break;let r=a-t/l;if(1e-6>Math.abs(r-a))return r;a=r,s--}return null},ee=(e,a)=>{let s=-a;for(let a=0;a<e.length;a++)if((s+=e[a])>=0)return a+s/e[a];return null},ea=(e,a,s)=>{let t=a/12/100,l=12*s;return e*t*Math.pow(1+t,l)/(Math.pow(1+t,l)-1)};function es(){let[e,a]=(0,l.useState)("loan"),[s,r]=(0,l.useState)({apr:5,term:10,downPayment:2e4}),[n,i]=(0,l.useState)("MD"),[h,u]=(0,l.useState)(5),[f,v]=(0,l.useState)({numStations:4,costPerStation:5e4,pricePerKwh:.45,sessionsPerDay:10,energyPerSession:20,operationalYears:20}),[b,w]=(0,l.useState)({systemSize:100,costPerWatt:1.8,annualProduction:12e4}),[C,T]=(0,l.useState)({totalCost:1e5,capacity:200,efficiency:.9,cycleLife:4e3,depthOfDischarge:.8}),[F,Y]=(0,l.useState)({rate:.12}),[$,O]=(0,l.useState)({evChargerAnnual:500,solarAnnual:1e3,batteryAnnual:200}),[U,B]=(0,l.useState)({baseTaxCredit:30,additionalTaxCredit:!1,utilityRebatePerCharger:5e3}),[K,L]=(0,l.useState)(.12),[G,es]=(0,l.useState)({annualConsumption:1e5,annualCost:12e3,rate:.12});(0,l.useEffect)(()=>{G.annualConsumption>0&&es(e=>({...e,rate:e.annualCost/e.annualConsumption}))},[G.annualConsumption,G.annualCost]);let et=1e3*b.systemSize*b.costPerWatt,el=et+f.numStations*f.costPerStation,er=U.baseTaxCredit/100*el,en=U.additionalTaxCredit?.1*el:0,ei=f.numStations*U.utilityRebatePerCharger,eo=Math.floor(b.annualProduction/1e3)*("MD"===n?80:"DC"===n?350:0),ec=eo*h,ed=er+en+ei+ec,em=el-ed,ex=(0,l.useMemo)(()=>{let e=12*ea(em-s.downPayment,s.apr,s.term);return Array.from({length:f.operationalYears},(a,t)=>{let l=f.numStations*f.sessionsPerDay*f.energyPerSession*f.pricePerKwh*365,r=b.annualProduction*G.rate,n=t<h?eo:0,i=$.evChargerAnnual*f.numStations+$.solarAnnual,o=t<s.term?e:0,c=0===t?ei:0,d=l+r+n+c-0-i-o,m=.21*d;return{year:t+1,evRevenue:l,solarSavings:r,srecRevenue:n,utilityRebate:c,gridCost:0,maintenanceCost:i,loanPayment:o,profit:d,taxes:m,cashFlow:d-m}})},[f,b,G.rate,h,n,$,em,s,eo,ei]),eh=(0,l.useMemo)(()=>{let e=f.numStations*f.sessionsPerDay*f.energyPerSession*f.pricePerKwh*365,a=b.annualProduction*G.rate,t=X([-em,...ex.map(e=>e.cashFlow)]),l=Q(ex.map(e=>e.cashFlow),s.apr/100,em),r=ee(ex.map(e=>e.cashFlow),em),n=ex.reduce((e,a)=>e+a.cashFlow,0),i=(n-em)/em;return{totalProjectCost:el,totalIncentives:ed,netProjectCost:em,incentivePercentage:ed/el*100,annualEvRevenue:e,baseTaxCreditAmount:er,additionalTaxCreditAmount:en,utilityRebateAmount:ei,totalSrecRevenue:ec,irr:null!==t?t:null,paybackPeriod:null!==r?r:null,npv:isNaN(l)?null:l,totalRevenue:n,annualSolarSavings:a,annualSrecRevenue:eo,roi:i,cashFlows:ex}},[ex,f,b,G.rate,s,el,ed,em,er,en,ei,ec,eo]),eu=(0,l.useCallback)((e,a,s)=>{let t=parseFloat(e);return isNaN(t)?a:Math.max(a,Math.min(s,t))},[]),ep=(0,l.useCallback)(e=>{let{id:a,label:s,value:l,onChange:r,min:n,max:i,step:o,tooltip:c}=e;return(0,t.jsxs)("div",{className:"mb-4 relative",children:[(0,t.jsxs)(p,{htmlFor:a,className:"flex items-center",children:[s,(0,t.jsx)(g,{children:(0,t.jsxs)(j,{children:[(0,t.jsx)(y,{asChild:!0,children:(0,t.jsx)(k.Z,{className:"ml-1 h-4 w-4 text-gray-400 cursor-help"})}),(0,t.jsx)(N,{className:"max-w-xs bg-gray-800 text-white p-2 rounded-md shadow-lg",children:(0,t.jsx)("p",{className:"text-sm",children:c})})]})})]}),(0,t.jsx)(x,{id:a,type:"number",value:l,onChange:e=>r(eu(e.target.value,n,i)),min:n,max:i,step:o,className:"mt-1"})]},a)},[eu]),ef=(0,l.useCallback)((e,a,s)=>(0,t.jsx)(g,{children:(0,t.jsxs)(j,{children:[(0,t.jsx)(y,{asChild:!0,children:(0,t.jsx)("span",{className:"ml-1 cursor-help",children:(0,t.jsx)(k.Z,{className:"inline h-4 w-4"})})}),(0,t.jsx)(N,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"font-bold",children:e}),(0,t.jsx)("p",{children:a}),(0,t.jsx)("p",{className:"text-xs mt-2",children:"Formula:"}),(0,t.jsx)("p",{className:"text-xs italic break-words",children:s})]})})]})}),[]),eg=(e,a)=>{r(s=>({...s,[e]:a}))};return(0,t.jsx)(g,{children:(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold mb-8 text-center",children:"EV Station and Solar Project Financial Calculator"}),(0,t.jsxs)(o,{className:"shadow-lg mb-6",children:[(0,t.jsx)(c,{className:"bg-primary/5",children:(0,t.jsxs)(d,{className:"flex items-center text-xl",children:[(0,t.jsx)(D.Z,{className:"mr-2 h-6 w-6"}),"Project Summary"]})}),(0,t.jsx)(m,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-md",children:[(0,t.jsx)("p",{className:"font-semibold text-lg mb-2",children:"Total Project Cost"}),(0,t.jsx)("p",{className:"text-3xl font-bold",children:J(el)})]}),(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-md",children:[(0,t.jsx)("p",{className:"font-semibold text-lg mb-2",children:"Total Incentives"}),(0,t.jsx)("p",{className:"text-3xl font-bold",children:J(ed)}),(0,t.jsxs)("p",{className:"text-sm mt-1",children:["(",eh.incentivePercentage.toFixed(1),"% of total project cost)"]})]}),(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-md",children:[(0,t.jsx)("p",{className:"font-semibold text-lg mb-2",children:"Net Project Cost"}),(0,t.jsx)("p",{className:"text-3xl font-bold",children:J(em)})]})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)(o,{className:"shadow-lg",children:[(0,t.jsx)(c,{className:"bg-primary/5",children:(0,t.jsxs)(d,{className:"flex items-center text-xl",children:[(0,t.jsx)(I.Z,{className:"mr-2 h-6 w-6"}),"Solar System Details"]})}),(0,t.jsxs)(m,{className:"pt-6 space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(p,{htmlFor:"systemSize",children:"System Size (kW)"}),(0,t.jsx)(x,{id:"systemSize",type:"number",value:b.systemSize,onChange:e=>w({...b,systemSize:Number(e.target.value)})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(p,{htmlFor:"costPerWatt",children:"Cost per Watt ($)"}),(0,t.jsx)(x,{id:"costPerWatt",type:"number",value:b.costPerWatt,onChange:e=>w({...b,costPerWatt:Number(e.target.value)})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(p,{htmlFor:"annualProduction",children:"Annual Production (kWh)"}),(0,t.jsx)(x,{id:"annualProduction",type:"number",value:b.annualProduction,onChange:e=>w({...b,annualProduction:Number(e.target.value)})})]}),(0,t.jsxs)("div",{className:"pt-4 border-t",children:[(0,t.jsxs)("div",{className:"font-semibold flex items-center mb-2",children:["Total Solar System Cost",ef("Total Solar System Cost",J(et),"System Size (kW) \xd7 1000 \xd7 Cost per Watt")]}),(0,t.jsx)("p",{className:"text-2xl font-bold text-primary",children:J(et)})]})]})]}),(0,t.jsxs)(o,{className:"shadow-lg",children:[(0,t.jsx)(c,{className:"bg-primary/5",children:(0,t.jsxs)(d,{className:"flex items-center text-xl",children:[(0,t.jsx)(V.Z,{className:"mr-2 h-6 w-6"}),"EV Station Details"]})}),(0,t.jsxs)(m,{className:"pt-6 space-y-4",children:[ep({id:"numStations",label:"Number of EV Stations",value:f.numStations,onChange:e=>v(a=>({...a,numStations:e})),min:1,max:100,step:1,tooltip:"The number of EV charging stations to be installed"}),ep({id:"costPerStation",label:"Cost per Station ($)",value:f.costPerStation,onChange:e=>v(a=>({...a,costPerStation:e})),min:0,max:1e6,step:1e3,tooltip:"The cost for each EV charging station"}),ep({id:"pricePerKwh",label:"Price per kWh ($)",value:f.pricePerKwh,onChange:e=>v(a=>({...a,pricePerKwh:e})),min:0,max:2,step:.01,tooltip:"The price charged per kilowatt-hour for EV charging"}),ep({id:"sessionsPerDay",label:"Average Sessions per Day (per station)",value:f.sessionsPerDay,onChange:e=>v(a=>({...a,sessionsPerDay:e})),min:0,max:100,step:1,tooltip:"The average number of charging sessions per station per day"}),ep({id:"energyPerSession",label:"Average Energy per Session (kWh)",value:f.energyPerSession,onChange:e=>v(a=>({...a,energyPerSession:e})),min:1,max:200,step:1,tooltip:"The average energy dispensed per charging session in kilowatt-hours"}),ep({id:"operationalYears",label:"Operational Years",value:f.operationalYears,onChange:e=>v(a=>({...a,operationalYears:e})),min:1,max:50,step:1,tooltip:"The expected operational lifespan of the EV charging stations in years"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(p,{htmlFor:"annualEvRevenue",children:"Annual EV Revenue"}),(0,t.jsx)(x,{id:"annualEvRevenue",type:"text",value:J(eh.annualEvRevenue),readOnly:!0})]})]})]}),(0,t.jsxs)(o,{className:"shadow-lg",children:[(0,t.jsx)(c,{className:"bg-primary/5",children:(0,t.jsxs)(d,{className:"flex items-center text-xl",children:[(0,t.jsx)(V.Z,{className:"mr-2 h-6 w-6"}),"Baseline Electricity Consumption"]})}),(0,t.jsx)(m,{className:"pt-6 space-y-4",children:(0,t.jsxs)(t.Fragment,{children:[ep({id:"baselineAnnualConsumption",label:"Annual Electricity Consumption (kWh)",value:G.annualConsumption,onChange:e=>es(a=>({...a,annualConsumption:e})),min:0,max:1e6,step:1e3,tooltip:"The annual electricity consumption before installing EV chargers and solar"}),ep({id:"baselineAnnualCost",label:"Annual Electricity Cost ($)",value:G.annualCost,onChange:e=>es(a=>({...a,annualCost:e})),min:0,max:1e6,step:100,tooltip:"The annual electricity cost before installing EV chargers and solar"})]})})]}),(0,t.jsxs)(o,{className:"shadow-lg",children:[(0,t.jsx)(c,{className:"bg-primary/5",children:(0,t.jsxs)(d,{className:"flex items-center text-xl",children:[(0,t.jsx)(D.Z,{className:"mr-2 h-6 w-6"}),"Incentives and Location"]})}),(0,t.jsxs)(m,{className:"pt-6 space-y-4",children:[ep({id:"baseTaxCredit",label:"Base Tax Credit (%)",value:U.baseTaxCredit,onChange:e=>B(a=>({...a,baseTaxCredit:e})),min:0,max:100,step:1,tooltip:"The base tax credit percentage"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"additionalTaxCredit",checked:U.additionalTaxCredit,onChange:e=>B(a=>({...a,additionalTaxCredit:e.target.checked})),className:"h-4 w-4 rounded bg-gray-100 text-primary focus:ring-2 focus:ring-primary focus:ring-opacity-50"}),(0,t.jsx)(p,{htmlFor:"additionalTaxCredit",children:"Additional 10% Tax Credit"})]}),ep({id:"utilityRebatePerCharger",label:"Utility Rebate per Charger ($)",value:U.utilityRebatePerCharger,onChange:e=>B(a=>({...a,utilityRebatePerCharger:e})),min:0,max:1e5,step:100,tooltip:"The rebate amount per DCFC charger from the utility company"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(p,{htmlFor:"location",children:"Location"}),(0,t.jsxs)(S,{value:n,onValueChange:i,children:[(0,t.jsx)(P,{id:"location",className:"border border-input",children:(0,t.jsx)(R,{placeholder:"Select location"})}),(0,t.jsxs)(E,{children:[(0,t.jsx)(A,{value:"MD",children:"Maryland (SREC: $80)"}),(0,t.jsx)(A,{value:"DC",children:"Washington D.C. (SREC: $350)"}),(0,t.jsx)(A,{value:"CA",children:"California (No SREC)"})]})]})]}),("MD"===n||"DC"===n)&&ep({id:"srecEligibilityYears",label:"SREC Eligibility Period (years)",value:h,onChange:u,min:1,max:25,step:1,tooltip:"The number of years the system is eligible for SRECs"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"font-semibold",children:"Incentives Breakdown:"}),(0,t.jsxs)("p",{children:["Base Tax Credit: ",J(er)]}),(0,t.jsxs)("p",{children:["Additional Tax Credit: ",J(en)]}),(0,t.jsxs)("p",{children:["Utility Rebate: ",J(ei)]}),(0,t.jsxs)("p",{children:["SREC Revenue: ",J(ec)," (",h," years)"]}),(0,t.jsxs)("p",{className:"font-semibold mt-2",children:["Total Incentives: ",J(ed)," (",eh.incentivePercentage.toFixed(1),"% of total project cost)"]})]})]})]}),(0,t.jsxs)(o,{className:"shadow-lg",children:[(0,t.jsx)(c,{className:"bg-primary/5",children:(0,t.jsxs)(d,{className:"flex items-center text-xl",children:[(0,t.jsx)(D.Z,{className:"mr-2 h-6 w-6"}),"Financing Options"]})}),(0,t.jsxs)(m,{className:"pt-6 space-y-4",children:[(0,t.jsxs)(S,{value:e,onValueChange:a,children:[(0,t.jsx)(P,{id:"financingType",children:(0,t.jsx)(R,{placeholder:"Select financing type"})}),(0,t.jsxs)(E,{children:[(0,t.jsx)(A,{value:"loan",children:"Loan"}),(0,t.jsx)(A,{value:"cash",children:"Cash"})]})]}),"loan"===e&&(0,t.jsxs)(t.Fragment,{children:[ep({id:"apr",label:"Annual Percentage Rate (APR)",value:s.apr,onChange:e=>eg("apr",e),min:0,max:20,step:.1,tooltip:"The annual interest rate for the loan"}),ep({id:"term",label:"Loan Term (years)",value:s.term,onChange:e=>eg("term",e),min:1,max:30,step:1,tooltip:"The duration of the loan in years"}),ep({id:"downPayment",label:"Down Payment ($)",value:s.downPayment,onChange:e=>eg("downPayment",e),min:0,max:1e6,step:1e3,tooltip:"The initial payment amount for the loan"})]})]})]}),(0,t.jsxs)(o,{className:"shadow-lg col-span-full mt-6",children:[(0,t.jsx)(c,{className:"bg-primary/5",children:(0,t.jsxs)(d,{className:"flex items-center text-xl",children:[(0,t.jsx)(D.Z,{className:"mr-2 h-6 w-6"}),"Financial Metrics Dashboard"]})}),(0,t.jsx)(m,{className:"pt-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-6",children:[(0,t.jsx)(q,{title:"Internal Rate of Return (IRR)",value:null!==eh.irr?"".concat((100*eh.irr).toFixed(2),"%"):"N/A",icon:(0,t.jsx)(Z.Z,{className:"h-6 w-6 text-blue-500"}),tooltip:"The Internal Rate of Return (IRR) is the discount rate that makes the NPV of all cash flows equal to zero."}),(0,t.jsx)(q,{title:"Payback Period",value:null!==eh.paybackPeriod?"".concat(eh.paybackPeriod.toFixed(2)," years"):"N/A",icon:(0,t.jsx)(z.Z,{className:"h-6 w-6 text-yellow-500"}),tooltip:"The Payback Period is the time it takes for the cumulative cash flow to become positive, essentially recovering the initial investment."}),(0,t.jsx)(q,{title:"Net Present Value (NPV)",value:J(eh.npv),icon:(0,t.jsx)(D.Z,{className:"h-6 w-6 text-green-500"}),tooltip:"The Net Present Value (NPV) is ".concat(J(eh.npv),". This represents the difference between the present value of cash inflows and outflows over the project's lifetime, discounted at a rate of ").concat("loan"===e?s.apr:10,"%. A positive NPV indicates that the project is financially viable. Formula: NPV = Î£(Cash Flow / (1 + Discount Rate)^t) - Initial Investment")}),(0,t.jsx)(q,{title:"Total Revenue (25 years)",value:J(eh.totalRevenue),icon:(0,t.jsx)(W.Z,{className:"h-6 w-6 text-green-500"}),tooltip:"The Total Revenue over the project lifetime is ".concat(J(eh.totalRevenue),". This includes EV charging revenue, solar savings, and SREC revenue. It's calculated by summing these components for each year of the project's operational life.")}),(0,t.jsx)(q,{title:"Total Incentives",value:J(eh.totalIncentives),icon:(0,t.jsx)(M.Z,{className:"h-6 w-6 text-purple-500"}),tooltip:"The Total Incentives are ".concat(J(eh.totalIncentives),". This represents the total amount of financial incentives received for the project, including Base Tax Credit, Additional Tax Credit, Utility Rebate, and SREC Revenue.")}),(0,t.jsx)(q,{title:"Annual EV Revenue",value:J(eh.annualEvRevenue),icon:(0,t.jsx)(V.Z,{className:"h-6 w-6 text-blue-500"}),tooltip:"The Annual EV Revenue is ".concat(J(eh.annualEvRevenue),". This represents the yearly revenue generated from EV charging. It's calculated as: Number of EV Stations \xd7 Average Sessions per Day \xd7 Average Energy per Session \xd7 Price per kWh \xd7 365")}),(0,t.jsx)(q,{title:"Annual Solar Savings",value:J(eh.annualSolarSavings),icon:(0,t.jsx)(I.Z,{className:"h-6 w-6 text-yellow-500"}),tooltip:"The Annual Solar Savings are ".concat(J(eh.annualSolarSavings),". This represents the yearly savings on electricity costs due to solar production. It's calculated as: Annual Solar Production (kWh) \xd7 Baseline Electricity Rate ($/kWh)")}),(0,t.jsx)(q,{title:"Annual SREC Revenue",value:J(eh.annualSrecRevenue),icon:(0,t.jsx)(_.Z,{className:"h-6 w-6 text-purple-500"}),tooltip:"The Annual SREC Revenue is ".concat(J(eh.annualSrecRevenue),". This is the yearly income from selling Solar Renewable Energy Credits. It's calculated as: (Annual Solar Production / 1000) \xd7 SREC Price. Note that SREC prices can vary by location and market conditions.")})]})})]})]}),eh.cashFlows&&eh.cashFlows.length>0&&(0,t.jsx)(H,{cashFlows:eh.cashFlows,initialInvestment:em})]})})}}},function(e){e.O(0,[988,971,23,744],function(){return e(e.s=5448)}),_N_E=e.O()}]);